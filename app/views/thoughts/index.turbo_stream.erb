<%= turbo_stream.append "thoughts-list" do %>
  <%= render partial: "shared/thought_card", collection: @thoughts, as: :thought %>
<% end %>

<%= turbo_stream.replace "pagination" do %>
  <div id="pagination" data-infinite-scroll-target="pagination" class="mt-12 flex justify-center">
    <% if @thoughts.next_page %>
      <%= link_to url_for(page: @thoughts.next_page, tag: @current_tag, q: @search_query, format: :turbo_stream),
          class: "inline-flex items-center gap-2 px-6 py-3 bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all duration-200 text-sm font-medium shadow-sm hover:shadow" do %>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
        Load more thoughts
      <% end %>
    <% end %>
  </div>
<% end %>
